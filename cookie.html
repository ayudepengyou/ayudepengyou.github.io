<!DOCTYPE html>
<html>
<head>
    <script>
        // 检测并获取指定名称的 cookie 值
        function getCookieValue(cookieConsent) {
            var name = cookieConsent + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var cookieArray = decodedCookie.split(";");

            for(var i = 0; i < cookieArray.length; i++) {
                var cookie = cookieArray[i];
                while (cookie.charAt(0) == " ") {
                    cookie = cookie.substring(1);
                }
                if (cookie.indexOf(name) == 0) {
                    return cookie.substring(name.length, cookie.length);
                }
            }
            return "";
        }

        // 定时检测 cookie 值并跳转
        function checkAndRedirect() {
            var cookieValue = getCookieValue("cookieConsent");
            
            if (indexOf(cookieValue) == 0) {
                // 根据 cookie 的值跳转到指定网页
                window.location.href = "http://ayudepengyou.github.io";
            }
        }

        // 每 0.5 秒检测一次 cookie 值并跳转
        setInterval(checkAndRedirect, 500);
    </script>
  <title>Cookie同意页面</title>
  
  <script>
    function setCookie() {
      document.cookie = "cookieConsent=true";
      window.location.href = "https://ayudepengyou.github.io//web_main.html";
    }
  
    function rejectCookie() {
      document.cookie = "cookieConsent=false";
      window.location.href = "https://ayudepengyou.github.io//web_main.html";
    }
  </script>
</head>
<body>
  <h1>Cookie同意页面</h1>
  <p>我们使用cookie来改善您的浏览体验。</p>
  <p>同意后，下次将不再输入密码，检验cookie后自动进入!</p>
  <p>若不同意，在您的使用过程中，可能会使您重新输入密码！</p>
  <button onclick="setCookie()">同意</button>
  <button onclick="rejectCookie()">不同意</button>
</body>
</html>
